"use client";
import React, { useRef } from "react";
import { motion, useScroll, useTransform } from "framer-motion";
import BlogsCarousel from "@/app/components/BlogsCarousel";

export default function BlogsMbl() {
  const sectionRef = useRef(null);

  const { scrollYProgress } = useScroll({
    target: sectionRef,
    offset: ["start end", "end start"],
  });

  // Transform scroll progress for animations
  const linePathLength = useTransform(scrollYProgress, [0.1, 0.3], [0, 1]);
  const textOpacity = useTransform(scrollYProgress, [0.2, 0.36], [0, 1]);
  const carouselOpacity = useTransform(scrollYProgress, [0.1, 0.3], [0, 1]);

  return (
    <section ref={sectionRef} className="xl:hidden bg-[#DD4D2B] w-full ">
      <div className="max-w-[1440px] w-full mx-auto relative overflow-hidden px-4 sm:px-6">
        <div className="flex flex-col items-center justify-center">
          {/* Animated Heading and Paragraph */}
          <div className="relative z-10 text-center sm:text-left mt-8 sm:mt-16">
            <motion.h2
              className="text-white font-[Francois_One] text-3xl sm:text-4xl md:text-5xl leading-tight"
              style={{ opacity: textOpacity }}
              transition={{ ease: "easeOut", duration: 0.5 }}
            >
              Blogs
            </motion.h2>
            <motion.p
              className="mt-4 text-[#EBEBEB] text-sm sm:text-base leading-6 tracking-wide max-w-lg mx-auto sm:mx-0"
              style={{ opacity: textOpacity }}
              transition={{ ease: "easeOut", duration: 0.5, delay: 0.2 }}
            >
              Lorem ipsum dolor sit amet consectetur. Eu amet egestas a
              facilisis parturient consequat sit phasellus. Et non habitant
              risus ut.
            </motion.p>
          </div>

          {/* SVG Line Animation */}
          {/* <motion.svg
            width="200"
            height="100"
            viewBox="0 0 200 100"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="absolute top-20 sm:top-24 left-0 sm:left-4 w-[150px] sm:w-[200px]"
          >
            <motion.path
              d="M198 0.5L197.641 64.686C197.532 83.837 182.792 98.488 167.641 98.488H0.946289"
              stroke="white"
              strokeWidth="2"
              style={{ pathLength: linePathLength, pathOffset: 0 }}
              transition={{ ease: "easeInOut", duration: 0.8 }}
            />
            <motion.path
              d="M198 0.5L197.641 64.686C197.532 83.837 182.792 98.488 167.641 98.488H0.946289"
              stroke="white"
              strokeWidth="2"
              style={{ opacity: 0.2 }}
              transition={{ ease: "easeInOut", duration: 0.8 }}
            />
          </motion.svg> */}

          {/* Bulb SVG - Adjusted for Mobile */}
        </div>
        {/* Animated Carousel */}
        <motion.div
          className="mt-2 "
          style={{ opacity: carouselOpacity }}
          transition={{ ease: "easeOut", duration: 0.5 }}
        >
          <BlogsCarousel />
        </motion.div>
        <div className="w-full">
          <motion.div
            initial={{ opacity: 1 }}
            animate={{ opacity: 1 }}
            // className="absolute top-0 right-0 w-[200px] sm:w-[300px] md:w-[400px]"
          >
            <svg
              width="368"
              height="293"
              viewBox="0 0 368 293"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_167_69)">
                <mask
                  id="mask0_167_69"
                  style={{ maskType: "luminance" } as React.CSSProperties}
                  maskUnits="userSpaceOnUse"
                  x="0"
                  y="0"
                  width="368"
                  height="293"
                >
                  <path
                    d="M367.5 0.318359H0.5V292.318H367.5V0.318359Z"
                    fill="white"
                  />
                </mask>
                <g mask="url(#mask0_167_69)">
                  <g opacity="0.25">
                    <path
                      d="M165.12 232.116C241.437 232.116 303.401 237.363 303.401 243.825C303.401 250.288 241.437 255.535 165.12 255.535C88.8026 255.535 26.8389 250.288 26.8389 243.825C26.8389 237.363 88.8026 232.116 165.12 232.116Z"
                      fill="#F6C6B7"
                    />
                    <path
                      d="M165.12 232.116C241.437 232.116 303.401 237.363 303.401 243.825C303.401 250.288 241.437 255.535 165.12 255.535C88.8026 255.535 26.8389 250.288 26.8389 243.825C26.8389 237.363 88.8026 232.116 165.12 232.116Z"
                      fill="#F6C6B7"
                    />
                  </g>
                  <g opacity="0.4">
                    <path
                      d="M177.119 238.287C246.134 238.287 302.169 240.992 302.169 244.323C302.169 247.653 246.134 250.358 177.119 250.358C108.104 250.358 52.0698 247.653 52.0698 244.323C52.0698 240.992 108.104 238.287 177.119 238.287Z"
                      fill="#F6C6B7"
                    />
                    <path
                      d="M177.119 238.287C246.134 238.287 302.169 240.992 302.169 244.323C302.169 247.653 246.134 250.358 177.119 250.358C108.104 250.358 52.0698 247.653 52.0698 244.323C52.0698 240.992 108.104 238.287 177.119 238.287Z"
                      fill="#F6C6B7"
                    />
                  </g>
                  <g opacity="0.4">
                    <path
                      d="M206.421 238.287C258.061 238.287 299.988 240.992 299.988 244.323C299.988 247.653 258.061 250.358 206.421 250.358C154.782 250.358 112.854 247.653 112.854 244.323C112.854 240.992 154.782 238.287 206.421 238.287Z"
                      fill="#DD4D2B"
                    />
                    <path
                      d="M206.422 238.734C232.235 238.734 255.617 239.41 272.541 240.502C281.005 241.048 287.845 241.697 292.563 242.416C294.926 242.776 296.738 243.151 297.952 243.533C298.562 243.725 298.995 243.911 299.266 244.083C299.469 244.212 299.522 244.295 299.536 244.322C299.522 244.349 299.47 244.432 299.266 244.562C298.995 244.733 298.562 244.919 297.952 245.111C296.738 245.494 294.926 245.869 292.563 246.229C287.845 246.948 281.005 247.598 272.541 248.144C255.617 249.235 232.235 249.911 206.422 249.911C180.609 249.911 157.226 249.235 140.302 248.144C131.838 247.598 124.999 246.948 120.28 246.229C117.918 245.869 116.106 245.494 114.892 245.111C114.281 244.919 113.848 244.733 113.577 244.562C113.372 244.431 113.319 244.348 113.306 244.322C113.319 244.296 113.373 244.212 113.577 244.083C113.848 243.911 114.281 243.725 114.892 243.533C116.106 243.151 117.918 242.776 120.28 242.416C124.999 241.697 131.838 241.048 140.302 240.502C157.226 239.41 180.609 238.734 206.422 238.734Z"
                      stroke="#F1542F"
                      stroke-opacity="0.53"
                      stroke-width="0.894341"
                    />
                    <path
                      d="M206.421 238.287C258.061 238.287 299.988 240.992 299.988 244.323C299.988 247.653 258.061 250.358 206.421 250.358C154.782 250.358 112.854 247.653 112.854 244.323C112.854 240.992 154.782 238.287 206.421 238.287Z"
                      fill="#DD4D2B"
                    />
                  </g>
                  <path
                    d="M282.15 164.183C277.585 186.141 268.846 205.753 255.932 223.043C249.166 219.893 241.206 220.652 235.22 225.113C221.365 235.436 204.139 241.552 185.56 241.552C184.092 241.552 182.624 241.506 181.156 241.437C136.038 239.069 100.439 200.787 102.32 154.55C104.04 111.876 138.492 76.8824 181.041 74.6291C206.708 73.2726 230.013 83.5731 246.161 100.702C257.469 112.681 265.268 128.063 267.906 145.123C269.19 153.469 274.512 160.643 282.15 164.183Z"
                    fill="white"
                    fill-opacity="0.5"
                  />
                  <path
                    d="M219.857 188.665L211.439 184.918C206.418 182.687 200.408 183.676 196.69 187.723C194.236 190.39 193.02 193.931 196.3 198.253C203.686 208.002 212.818 198.736 216.923 193.471C218.091 191.999 219.054 190.39 219.857 188.665Z"
                    stroke="#EE360B"
                    stroke-width="2"
                    stroke-miterlimit="10"
                  />
                  <path
                    d="M230.935 163.65L222.517 159.902C217.496 157.672 214.168 152.545 214.673 147.073C214.994 143.463 216.806 140.175 222.196 139.715C234.353 138.657 233.642 151.671 232.518 158.226C232.197 160.109 231.649 161.902 230.935 163.65Z"
                    stroke="#EE360B"
                    stroke-width="2"
                    stroke-miterlimit="10"
                  />
                  <path
                    d="M275.183 183.308L255.411 174.527L246.052 170.364L231.234 163.79L230.936 163.65C230.844 163.882 230.753 164.089 230.661 164.317L225.408 176.16L220.181 188.024C220.087 188.231 219.972 188.458 219.857 188.665L220.156 188.806L242.038 198.506L243.735 199.265L264.127 208.324"
                    stroke="#EE360B"
                    stroke-width="2"
                    stroke-miterlimit="10"
                  />
                  <path
                    d="M324.919 189.22C324.392 198.187 322.417 206.786 319.277 214.787C316.134 222.788 311.776 230.169 306.452 236.721C305.652 237.71 304.824 238.676 304 239.618C301.821 242.053 298.31 242.722 295.351 241.366L255.923 223.041C268.837 205.751 277.574 186.139 282.141 164.181L320.697 182.092C323.428 183.357 325.126 186.185 324.919 189.22Z"
                    fill="white"
                  />
                  <path
                    d="M126.671 147.164C161.935 111.816 215.716 106.358 256.703 130.776C253.114 120.422 247.193 110.697 238.941 102.424C209.72 73.1321 162.338 73.1321 133.116 102.424C115.906 119.677 108.846 143.242 111.908 165.687C116.057 159.116 120.957 152.889 126.671 147.164Z"
                    fill="#F9F6F0"
                  />
                  <path
                    d="M282.141 170.842L322.364 190.013"
                    stroke="#CECECE"
                    stroke-width="4"
                    stroke-miterlimit="10"
                  />
                  <path
                    d="M316.417 216.536C315.467 217.706 314.49 218.849 313.513 219.964C310.935 222.848 306.783 223.636 303.281 222.031L267.399 205.357C264.145 211.308 260.518 217.051 256.424 222.533L295.851 240.857C298.81 242.214 302.319 241.547 304.501 239.11C305.327 238.167 306.15 237.202 306.955 236.215C312.274 229.66 316.635 222.28 319.777 214.281C320.339 212.846 320.851 211.388 321.337 209.917C319.784 212.191 318.149 214.405 316.417 216.536Z"
                    fill="#CECECE"
                  />
                  <path
                    d="M146.818 108.706C158.909 95.4874 175.942 89.5899 192.459 91.2637"
                    stroke="white"
                    stroke-width="2"
                  />
                  <path
                    d="M223.822 105.36C218.48 100.451 212.411 96.8072 206.009 94.416"
                    stroke="white"
                    stroke-width="2"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                  />
                  <path
                    d="M324.919 189.22C324.392 198.187 322.417 206.786 319.277 214.787C316.134 222.788 311.776 230.169 306.452 236.721C305.652 237.71 304.824 238.676 304 239.618C301.821 242.053 298.31 242.722 295.351 241.366L255.923 223.041C268.837 205.751 277.574 186.139 282.141 164.181L320.697 182.092C323.428 183.357 325.126 186.185 324.919 189.22Z"
                    stroke="#393939"
                    stroke-width="2"
                    stroke-miterlimit="10"
                  />
                  <path
                    d="M312.708 229.527C317.729 221.362 321.401 212.258 323.372 202.534L324.718 203.245C328.762 205.383 330.792 210.032 329.652 214.469C328.645 218.392 327.003 222.112 324.766 225.646C322.206 229.688 317.13 231.339 312.708 229.527Z"
                    fill="#393939"
                  />
                  <path
                    d="M323.458 188.362L290.685 237.724L282.286 233.82L316.859 181.747L319.454 182.959C321.63 183.975 323.128 186.024 323.458 188.362Z"
                    stroke="#393939"
                    stroke-width="2"
                    stroke-miterlimit="2"
                  />
                  <path
                    d="M291.633 170.042L267.97 205.691C274.656 193.434 279.494 180.14 282.485 165.786L291.633 170.042Z"
                    stroke="#393939"
                    stroke-width="2"
                    stroke-miterlimit="2"
                  />
                  <path
                    d="M319.169 211.4C318.818 212.393 318.465 213.34 318.091 214.311C315.079 221.983 310.902 229.06 305.799 235.342C305.028 236.291 304.237 237.218 303.445 238.119C302.521 239.179 301.333 239.862 300.035 240.191L319.169 211.4Z"
                    stroke="#393939"
                    stroke-width="2"
                    stroke-miterlimit="2"
                  />
                  <path
                    d="M316.859 181.747L282.285 233.822L273.883 229.918L308.434 177.845L316.859 181.747Z"
                    stroke="#393939"
                    stroke-width="2"
                    stroke-miterlimit="2"
                  />
                  <path
                    d="M308.437 177.843L273.884 229.918L265.479 225.991L300.035 173.941L308.437 177.843Z"
                    stroke="#393939"
                    stroke-width="2"
                    stroke-miterlimit="2"
                  />
                  <path
                    d="M300.033 173.943L265.482 225.993L257.344 222.222C261.303 216.932 264.842 211.423 267.968 205.691L291.633 170.044L300.033 173.943Z"
                    stroke="#393939"
                    stroke-width="2"
                    stroke-miterlimit="2"
                  />
                  <path
                    d="M323.459 188.362C323.523 188.847 323.521 189.309 323.503 189.794C323.06 197.313 321.569 204.567 319.17 211.377V211.4L300.033 240.191C298.45 240.632 296.714 240.524 295.15 239.795L290.686 237.724L323.459 188.362Z"
                    stroke="#393939"
                    stroke-width="2"
                    stroke-miterlimit="2"
                  />
                </g>
              </g>
              <defs>
                <clipPath id="clip0_167_69">
                  <rect
                    width="367"
                    height="292"
                    fill="white"
                    transform="translate(0.5 0.318359)"
                  />
                </clipPath>
              </defs>
            </svg>
          </motion.div>
        </div>
      </div>
    </section>
  );
}
